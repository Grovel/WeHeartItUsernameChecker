const fs = require('fs');
const fetch = require("node-fetch");
const chalk = require("chalk");
var LineByLineReader = require("line-by-line"),
	lr = new LineByLineReader("wordlist.txt");
lr.on("error", function (err) {});
lr.on("line", function (line) {
	lr.pause();
	fetch(`https://weheartit.com/users/validate?user%5Busername%5D=${line}`)
		.then((res) => res.json())
		.then((text) => {
			if (text.errors.username == null) {
				console.log(chalk.green(`Username: ${line} is available`));
				fs.appendFileSync('hits.txt', `\n${line}`);
			} else {
				console.log(chalk.red(`Username: ${line} is not available.`));
			}
		});
	setTimeout(function () {
		lr.resume();
	}, 1000);
});
lr.on("end", function () {
});
